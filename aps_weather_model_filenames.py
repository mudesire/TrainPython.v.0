# Autogenerated with SMOP 
from smop.core import *
# Trainmatlab.v.0/aps_weather_model_filenames.m

    
@function
def aps_weather_model_filenames(model_type=None,time_before=None,time_after=None,date_before=None,date_after=None,weather_model_datapath=None,*args,**kwargs):
    varargin = aps_weather_model_filenames.varargin
    nargin = aps_weather_model_filenames.nargin

    # function which generates the filenames of the weather model data
    
    #     Copyright (C) 2016  Bekaert David
#     davidbekaert.com
# 
#     This program is free software; you can redistribute it and/or modify
#     it under the terms of the GNU General Public License as published by
#     the Free Software Foundation; either version 2 of the License, or
#     (at your option) any later version.
# 
#     This program is distributed in the hope that it will be useful,
#     but WITHOUT ANY WARRANTY; without even the implied warranty of
#     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#     GNU General Public License for more details.
# 
#     You should have received a copy of the GNU General Public License along
#     with this program; if not, write to the Free Software Foundation, Inc.,
#     51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
    
    # inputs:
# model_type either era or merra
# time_before, time_after are strings 'HHMM' with the weather model times before and after UTC acquisition time.
# date_before, date_after are the dates 'YYYYMMDD' with the weather model data before and after SAR acqusition
    
    # modification:
# DB    02/05/2016  Fix bug for MERRA and MERRA 2, as the before and after were defined the same
    
    if nargin < 6:
        weather_model_datapath=copy(pwd)
# Trainmatlab.v.0/aps_weather_model_filenames.m:30
    
    for d in arange(1,size(date_before,1)).reshape(-1):
        if strcmpi(model_type,'era'):
            #Format ggapYYYYMMDDHHMM.nc
            modelfile_before[d,:]=cat(weather_model_datapath,filesep,date_before[d,:],filesep,'ggap',date_before[d,:],time_before[d,:],'.nc')
# Trainmatlab.v.0/aps_weather_model_filenames.m:36
            modelfile_after[d,:]=cat(weather_model_datapath,filesep,date_after[d,:],filesep,'ggap',date_after[d,:],time_after[d,:],'.nc')
# Trainmatlab.v.0/aps_weather_model_filenames.m:37
        else:
            if strcmpi(model_type,'merra'):
                #Format MERRA_YYYYMMDD_HH.hdf
                modelfile_before[d,:]=cat(weather_model_datapath,filesep,date_before[d,:],filesep,'MERRA_',date_before[d,:],'_',time_before[d,1:2],'.hdf')
# Trainmatlab.v.0/aps_weather_model_filenames.m:40
                modelfile_after[d,:]=cat(weather_model_datapath,filesep,date_after[d,:],filesep,'MERRA_',date_after[d,:],'_',time_after[d,1:2],'.hdf')
# Trainmatlab.v.0/aps_weather_model_filenames.m:41
            else:
                if strcmpi(model_type,'merra2'):
                    #Format MERRA2_YYYYMMDD_HH.nc4
                    modelfile_before[d,:]=cat(weather_model_datapath,filesep,date_before[d,:],filesep,'MERRA2_',date_before[d,:],'_',time_before[d,1:2],'.nc4')
# Trainmatlab.v.0/aps_weather_model_filenames.m:44
                    modelfile_after[d,:]=cat(weather_model_datapath,filesep,date_after[d,:],filesep,'MERRA2_',date_after[d,:],'_',time_after[d,1:2],'.nc4')
# Trainmatlab.v.0/aps_weather_model_filenames.m:45
    